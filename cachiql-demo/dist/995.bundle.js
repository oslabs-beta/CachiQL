"use strict";(self.webpackChunkcachiql_demo=self.webpackChunkcachiql_demo||[]).push([[995],{71520:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "f": () => (/* binding */ forEachState)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, "name", { value, configurable: true });\nfunction forEachState(stack, fn) {\n  const reverseStateStack = [];\n  let state = stack;\n  while (state === null || state === void 0 ? void 0 : state.kind) {\n    reverseStateStack.push(state);\n    state = state.prevState;\n  }\n  for (let i = reverseStateStack.length - 1; i >= 0; i--) {\n    fn(reverseStateStack[i]);\n  }\n}\n__name(forEachState, "forEachState");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzE1MjAuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQSw0REFBNEQsMkJBQTJCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWNoaXFsLWRlbW8vLi9ub2RlX21vZHVsZXMvQGdyYXBoaXFsL3JlYWN0L2Rpc3QvZm9yRWFjaFN0YXRlLmVzLmpzPzk1ZTAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX25hbWUgPSAodGFyZ2V0LCB2YWx1ZSkgPT4gX19kZWZQcm9wKHRhcmdldCwgXCJuYW1lXCIsIHsgdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGZvckVhY2hTdGF0ZShzdGFjaywgZm4pIHtcbiAgY29uc3QgcmV2ZXJzZVN0YXRlU3RhY2sgPSBbXTtcbiAgbGV0IHN0YXRlID0gc3RhY2s7XG4gIHdoaWxlIChzdGF0ZSA9PT0gbnVsbCB8fCBzdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGUua2luZCkge1xuICAgIHJldmVyc2VTdGF0ZVN0YWNrLnB1c2goc3RhdGUpO1xuICAgIHN0YXRlID0gc3RhdGUucHJldlN0YXRlO1xuICB9XG4gIGZvciAobGV0IGkgPSByZXZlcnNlU3RhdGVTdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGZuKHJldmVyc2VTdGF0ZVN0YWNrW2ldKTtcbiAgfVxufVxuX19uYW1lKGZvckVhY2hTdGF0ZSwgXCJmb3JFYWNoU3RhdGVcIik7XG5leHBvcnQgeyBmb3JFYWNoU3RhdGUgYXMgZiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///71520\n')},85995:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _codemirror_es_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97480);\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(90398);\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(45397);\n/* harmony import */ var _forEachState_es_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(71520);\n/* harmony import */ var _index_es_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59361);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(67294);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(73935);\nvar __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, "name", { value, configurable: true });\n\n\n\n\n\n\nfunction hintList(cursor, token, list) {\n  const hints = filterAndSortList(list, normalizeText(token.string));\n  if (!hints) {\n    return;\n  }\n  const tokenStart = token.type !== null && /"|\\w/.test(token.string[0]) ? token.start : token.end;\n  return {\n    list: hints,\n    from: { line: cursor.line, ch: tokenStart },\n    to: { line: cursor.line, ch: token.end }\n  };\n}\n__name(hintList, "hintList");\nfunction filterAndSortList(list, text) {\n  if (!text) {\n    return filterNonEmpty(list, (entry) => !entry.isDeprecated);\n  }\n  const byProximity = list.map((entry) => ({\n    proximity: getProximity(normalizeText(entry.text), text),\n    entry\n  }));\n  const conciseMatches = filterNonEmpty(filterNonEmpty(byProximity, (pair) => pair.proximity <= 2), (pair) => !pair.entry.isDeprecated);\n  const sortedMatches = conciseMatches.sort((a, b) => (a.entry.isDeprecated ? 1 : 0) - (b.entry.isDeprecated ? 1 : 0) || a.proximity - b.proximity || a.entry.text.length - b.entry.text.length);\n  return sortedMatches.map((pair) => pair.entry);\n}\n__name(filterAndSortList, "filterAndSortList");\nfunction filterNonEmpty(array, predicate) {\n  const filtered = array.filter(predicate);\n  return filtered.length === 0 ? array : filtered;\n}\n__name(filterNonEmpty, "filterNonEmpty");\nfunction normalizeText(text) {\n  return text.toLowerCase().replace(/\\W/g, "");\n}\n__name(normalizeText, "normalizeText");\nfunction getProximity(suggestion, text) {\n  let proximity = lexicalDistance(text, suggestion);\n  if (suggestion.length > text.length) {\n    proximity -= suggestion.length - text.length - 1;\n    proximity += suggestion.indexOf(text) === 0 ? 0 : 0.5;\n  }\n  return proximity;\n}\n__name(getProximity, "getProximity");\nfunction lexicalDistance(a, b) {\n  let i;\n  let j;\n  const d = [];\n  const aLength = a.length;\n  const bLength = b.length;\n  for (i = 0; i <= aLength; i++) {\n    d[i] = [i];\n  }\n  for (j = 1; j <= bLength; j++) {\n    d[0][j] = j;\n  }\n  for (i = 1; i <= aLength; i++) {\n    for (j = 1; j <= bLength; j++) {\n      const cost = a[i - 1] === b[j - 1] ? 0 : 1;\n      d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + cost);\n      }\n    }\n  }\n  return d[aLength][bLength];\n}\n__name(lexicalDistance, "lexicalDistance");\n_codemirror_es_js__WEBPACK_IMPORTED_MODULE_0__.C.registerHelper("hint", "graphql-variables", (editor, options) => {\n  const cur = editor.getCursor();\n  const token = editor.getTokenAt(cur);\n  const results = getVariablesHint(cur, token, options);\n  if ((results === null || results === void 0 ? void 0 : results.list) && results.list.length > 0) {\n    results.from = _codemirror_es_js__WEBPACK_IMPORTED_MODULE_0__.C.Pos(results.from.line, results.from.ch);\n    results.to = _codemirror_es_js__WEBPACK_IMPORTED_MODULE_0__.C.Pos(results.to.line, results.to.ch);\n    _codemirror_es_js__WEBPACK_IMPORTED_MODULE_0__.C.signal(editor, "hasCompletion", editor, results, token);\n  }\n  return results;\n});\nfunction getVariablesHint(cur, token, options) {\n  const state = token.state.kind === "Invalid" ? token.state.prevState : token.state;\n  const kind = state.kind;\n  const step = state.step;\n  if (kind === "Document" && step === 0) {\n    return hintList(cur, token, [{ text: "{" }]);\n  }\n  const variableToType = options.variableToType;\n  if (!variableToType) {\n    return;\n  }\n  const typeInfo = getTypeInfo(variableToType, token.state);\n  if (kind === "Document" || kind === "Variable" && step === 0) {\n    const variableNames = Object.keys(variableToType);\n    return hintList(cur, token, variableNames.map((name) => ({\n      text: `"${name}": `,\n      type: variableToType[name]\n    })));\n  }\n  if (kind === "ObjectValue" || kind === "ObjectField" && step === 0) {\n    if (typeInfo.fields) {\n      const inputFields = Object.keys(typeInfo.fields).map((fieldName) => typeInfo.fields[fieldName]);\n      return hintList(cur, token, inputFields.map((field) => ({\n        text: `"${field.name}": `,\n        type: field.type,\n        description: field.description\n      })));\n    }\n  }\n  if (kind === "StringValue" || kind === "NumberValue" || kind === "BooleanValue" || kind === "NullValue" || kind === "ListValue" && step === 1 || kind === "ObjectField" && step === 2 || kind === "Variable" && step === 2) {\n    const namedInputType = typeInfo.type ? (0,graphql__WEBPACK_IMPORTED_MODULE_5__/* .getNamedType */ .xC)(typeInfo.type) : void 0;\n    if (namedInputType instanceof graphql__WEBPACK_IMPORTED_MODULE_5__/* .GraphQLInputObjectType */ .sR) {\n      return hintList(cur, token, [{ text: "{" }]);\n    } else if (namedInputType instanceof graphql__WEBPACK_IMPORTED_MODULE_5__/* .GraphQLEnumType */ .mR) {\n      const values = namedInputType.getValues();\n      return hintList(cur, token, values.map((value) => ({\n        text: `"${value.name}"`,\n        type: namedInputType,\n        description: value.description\n      })));\n    } else if (namedInputType === graphql__WEBPACK_IMPORTED_MODULE_6__/* .GraphQLBoolean */ .EZ) {\n      return hintList(cur, token, [\n        { text: "true", type: graphql__WEBPACK_IMPORTED_MODULE_6__/* .GraphQLBoolean */ .EZ, description: "Not false." },\n        { text: "false", type: graphql__WEBPACK_IMPORTED_MODULE_6__/* .GraphQLBoolean */ .EZ, description: "Not true." }\n      ]);\n    }\n  }\n}\n__name(getVariablesHint, "getVariablesHint");\nfunction getTypeInfo(variableToType, tokenState) {\n  const info = {\n    type: null,\n    fields: null\n  };\n  (0,_forEachState_es_js__WEBPACK_IMPORTED_MODULE_1__.f)(tokenState, (state) => {\n    if (state.kind === "Variable") {\n      info.type = variableToType[state.name];\n    } else if (state.kind === "ListValue") {\n      const nullableType = info.type ? (0,graphql__WEBPACK_IMPORTED_MODULE_5__/* .getNullableType */ .tf)(info.type) : void 0;\n      info.type = nullableType instanceof graphql__WEBPACK_IMPORTED_MODULE_5__/* .GraphQLList */ .p2 ? nullableType.ofType : null;\n    } else if (state.kind === "ObjectValue") {\n      const objectType = info.type ? (0,graphql__WEBPACK_IMPORTED_MODULE_5__/* .getNamedType */ .xC)(info.type) : void 0;\n      info.fields = objectType instanceof graphql__WEBPACK_IMPORTED_MODULE_5__/* .GraphQLInputObjectType */ .sR ? objectType.getFields() : null;\n    } else if (state.kind === "ObjectField") {\n      const objectField = state.name && info.fields ? info.fields[state.name] : null;\n      info.type = objectField === null || objectField === void 0 ? void 0 : objectField.type;\n    }\n  });\n  return info;\n}\n__name(getTypeInfo, "getTypeInfo");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU5OTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDbEM7QUFDeUU7QUFDckU7QUFDbEM7QUFDUjtBQUNJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1DQUFtQztBQUMvQyxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUIsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0RBQWM7QUFDakMsaUJBQWlCLG9EQUFjO0FBQy9CLElBQUksdURBQWlCO0FBQ3JCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRLEdBQUc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLEtBQUs7QUFDckI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixXQUFXO0FBQzdCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLCtEQUFZO0FBQ3ZELGtDQUFrQyxxRUFBc0I7QUFDeEQscUNBQXFDLFFBQVEsR0FBRztBQUNoRCxNQUFNLG1DQUFtQyw4REFBZTtBQUN4RDtBQUNBO0FBQ0Esa0JBQWtCLFdBQVc7QUFDN0I7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNLDRCQUE0Qiw2REFBYztBQUNoRDtBQUNBLFVBQVUsb0JBQW9CLDZEQUFjLDZCQUE2QjtBQUN6RSxVQUFVLHFCQUFxQiw2REFBYztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsc0RBQVk7QUFDZDtBQUNBO0FBQ0EsTUFBTTtBQUNOLHVDQUF1QyxrRUFBZTtBQUN0RCwwQ0FBMEMsMERBQVc7QUFDckQsTUFBTTtBQUNOLHFDQUFxQywrREFBWTtBQUNqRCwwQ0FBMEMscUVBQXNCO0FBQ2hFLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FjaGlxbC1kZW1vLy4vbm9kZV9tb2R1bGVzL0BncmFwaGlxbC9yZWFjdC9kaXN0L2hpbnQuZXMyLmpzPzZkMmMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX25hbWUgPSAodGFyZ2V0LCB2YWx1ZSkgPT4gX19kZWZQcm9wKHRhcmdldCwgXCJuYW1lXCIsIHsgdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbmltcG9ydCB7IEMgYXMgQ29kZU1pcnJvciB9IGZyb20gXCIuL2NvZGVtaXJyb3IuZXMuanNcIjtcbmltcG9ydCB7IGdldE5hbWVkVHlwZSwgR3JhcGhRTElucHV0T2JqZWN0VHlwZSwgR3JhcGhRTEVudW1UeXBlLCBHcmFwaFFMQm9vbGVhbiwgZ2V0TnVsbGFibGVUeXBlLCBHcmFwaFFMTGlzdCB9IGZyb20gXCJncmFwaHFsXCI7XG5pbXBvcnQgeyBmIGFzIGZvckVhY2hTdGF0ZSB9IGZyb20gXCIuL2ZvckVhY2hTdGF0ZS5lcy5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5lcy5qc1wiO1xuaW1wb3J0IFwicmVhY3RcIjtcbmltcG9ydCBcInJlYWN0LWRvbVwiO1xuZnVuY3Rpb24gaGludExpc3QoY3Vyc29yLCB0b2tlbiwgbGlzdCkge1xuICBjb25zdCBoaW50cyA9IGZpbHRlckFuZFNvcnRMaXN0KGxpc3QsIG5vcm1hbGl6ZVRleHQodG9rZW4uc3RyaW5nKSk7XG4gIGlmICghaGludHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdG9rZW5TdGFydCA9IHRva2VuLnR5cGUgIT09IG51bGwgJiYgL1wifFxcdy8udGVzdCh0b2tlbi5zdHJpbmdbMF0pID8gdG9rZW4uc3RhcnQgOiB0b2tlbi5lbmQ7XG4gIHJldHVybiB7XG4gICAgbGlzdDogaGludHMsXG4gICAgZnJvbTogeyBsaW5lOiBjdXJzb3IubGluZSwgY2g6IHRva2VuU3RhcnQgfSxcbiAgICB0bzogeyBsaW5lOiBjdXJzb3IubGluZSwgY2g6IHRva2VuLmVuZCB9XG4gIH07XG59XG5fX25hbWUoaGludExpc3QsIFwiaGludExpc3RcIik7XG5mdW5jdGlvbiBmaWx0ZXJBbmRTb3J0TGlzdChsaXN0LCB0ZXh0KSB7XG4gIGlmICghdGV4dCkge1xuICAgIHJldHVybiBmaWx0ZXJOb25FbXB0eShsaXN0LCAoZW50cnkpID0+ICFlbnRyeS5pc0RlcHJlY2F0ZWQpO1xuICB9XG4gIGNvbnN0IGJ5UHJveGltaXR5ID0gbGlzdC5tYXAoKGVudHJ5KSA9PiAoe1xuICAgIHByb3hpbWl0eTogZ2V0UHJveGltaXR5KG5vcm1hbGl6ZVRleHQoZW50cnkudGV4dCksIHRleHQpLFxuICAgIGVudHJ5XG4gIH0pKTtcbiAgY29uc3QgY29uY2lzZU1hdGNoZXMgPSBmaWx0ZXJOb25FbXB0eShmaWx0ZXJOb25FbXB0eShieVByb3hpbWl0eSwgKHBhaXIpID0+IHBhaXIucHJveGltaXR5IDw9IDIpLCAocGFpcikgPT4gIXBhaXIuZW50cnkuaXNEZXByZWNhdGVkKTtcbiAgY29uc3Qgc29ydGVkTWF0Y2hlcyA9IGNvbmNpc2VNYXRjaGVzLnNvcnQoKGEsIGIpID0+IChhLmVudHJ5LmlzRGVwcmVjYXRlZCA/IDEgOiAwKSAtIChiLmVudHJ5LmlzRGVwcmVjYXRlZCA/IDEgOiAwKSB8fCBhLnByb3hpbWl0eSAtIGIucHJveGltaXR5IHx8IGEuZW50cnkudGV4dC5sZW5ndGggLSBiLmVudHJ5LnRleHQubGVuZ3RoKTtcbiAgcmV0dXJuIHNvcnRlZE1hdGNoZXMubWFwKChwYWlyKSA9PiBwYWlyLmVudHJ5KTtcbn1cbl9fbmFtZShmaWx0ZXJBbmRTb3J0TGlzdCwgXCJmaWx0ZXJBbmRTb3J0TGlzdFwiKTtcbmZ1bmN0aW9uIGZpbHRlck5vbkVtcHR5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgY29uc3QgZmlsdGVyZWQgPSBhcnJheS5maWx0ZXIocHJlZGljYXRlKTtcbiAgcmV0dXJuIGZpbHRlcmVkLmxlbmd0aCA9PT0gMCA/IGFycmF5IDogZmlsdGVyZWQ7XG59XG5fX25hbWUoZmlsdGVyTm9uRW1wdHksIFwiZmlsdGVyTm9uRW1wdHlcIik7XG5mdW5jdGlvbiBub3JtYWxpemVUZXh0KHRleHQpIHtcbiAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXFcvZywgXCJcIik7XG59XG5fX25hbWUobm9ybWFsaXplVGV4dCwgXCJub3JtYWxpemVUZXh0XCIpO1xuZnVuY3Rpb24gZ2V0UHJveGltaXR5KHN1Z2dlc3Rpb24sIHRleHQpIHtcbiAgbGV0IHByb3hpbWl0eSA9IGxleGljYWxEaXN0YW5jZSh0ZXh0LCBzdWdnZXN0aW9uKTtcbiAgaWYgKHN1Z2dlc3Rpb24ubGVuZ3RoID4gdGV4dC5sZW5ndGgpIHtcbiAgICBwcm94aW1pdHkgLT0gc3VnZ2VzdGlvbi5sZW5ndGggLSB0ZXh0Lmxlbmd0aCAtIDE7XG4gICAgcHJveGltaXR5ICs9IHN1Z2dlc3Rpb24uaW5kZXhPZih0ZXh0KSA9PT0gMCA/IDAgOiAwLjU7XG4gIH1cbiAgcmV0dXJuIHByb3hpbWl0eTtcbn1cbl9fbmFtZShnZXRQcm94aW1pdHksIFwiZ2V0UHJveGltaXR5XCIpO1xuZnVuY3Rpb24gbGV4aWNhbERpc3RhbmNlKGEsIGIpIHtcbiAgbGV0IGk7XG4gIGxldCBqO1xuICBjb25zdCBkID0gW107XG4gIGNvbnN0IGFMZW5ndGggPSBhLmxlbmd0aDtcbiAgY29uc3QgYkxlbmd0aCA9IGIubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDw9IGFMZW5ndGg7IGkrKykge1xuICAgIGRbaV0gPSBbaV07XG4gIH1cbiAgZm9yIChqID0gMTsgaiA8PSBiTGVuZ3RoOyBqKyspIHtcbiAgICBkWzBdW2pdID0gajtcbiAgfVxuICBmb3IgKGkgPSAxOyBpIDw9IGFMZW5ndGg7IGkrKykge1xuICAgIGZvciAoaiA9IDE7IGogPD0gYkxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBjb3N0ID0gYVtpIC0gMV0gPT09IGJbaiAtIDFdID8gMCA6IDE7XG4gICAgICBkW2ldW2pdID0gTWF0aC5taW4oZFtpIC0gMV1bal0gKyAxLCBkW2ldW2ogLSAxXSArIDEsIGRbaSAtIDFdW2ogLSAxXSArIGNvc3QpO1xuICAgICAgaWYgKGkgPiAxICYmIGogPiAxICYmIGFbaSAtIDFdID09PSBiW2ogLSAyXSAmJiBhW2kgLSAyXSA9PT0gYltqIC0gMV0pIHtcbiAgICAgICAgZFtpXVtqXSA9IE1hdGgubWluKGRbaV1bal0sIGRbaSAtIDJdW2ogLSAyXSArIGNvc3QpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZFthTGVuZ3RoXVtiTGVuZ3RoXTtcbn1cbl9fbmFtZShsZXhpY2FsRGlzdGFuY2UsIFwibGV4aWNhbERpc3RhbmNlXCIpO1xuQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlcihcImhpbnRcIiwgXCJncmFwaHFsLXZhcmlhYmxlc1wiLCAoZWRpdG9yLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGN1ciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcbiAgY29uc3QgdG9rZW4gPSBlZGl0b3IuZ2V0VG9rZW5BdChjdXIpO1xuICBjb25zdCByZXN1bHRzID0gZ2V0VmFyaWFibGVzSGludChjdXIsIHRva2VuLCBvcHRpb25zKTtcbiAgaWYgKChyZXN1bHRzID09PSBudWxsIHx8IHJlc3VsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdHMubGlzdCkgJiYgcmVzdWx0cy5saXN0Lmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHRzLmZyb20gPSBDb2RlTWlycm9yLlBvcyhyZXN1bHRzLmZyb20ubGluZSwgcmVzdWx0cy5mcm9tLmNoKTtcbiAgICByZXN1bHRzLnRvID0gQ29kZU1pcnJvci5Qb3MocmVzdWx0cy50by5saW5lLCByZXN1bHRzLnRvLmNoKTtcbiAgICBDb2RlTWlycm9yLnNpZ25hbChlZGl0b3IsIFwiaGFzQ29tcGxldGlvblwiLCBlZGl0b3IsIHJlc3VsdHMsIHRva2VuKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn0pO1xuZnVuY3Rpb24gZ2V0VmFyaWFibGVzSGludChjdXIsIHRva2VuLCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0YXRlID0gdG9rZW4uc3RhdGUua2luZCA9PT0gXCJJbnZhbGlkXCIgPyB0b2tlbi5zdGF0ZS5wcmV2U3RhdGUgOiB0b2tlbi5zdGF0ZTtcbiAgY29uc3Qga2luZCA9IHN0YXRlLmtpbmQ7XG4gIGNvbnN0IHN0ZXAgPSBzdGF0ZS5zdGVwO1xuICBpZiAoa2luZCA9PT0gXCJEb2N1bWVudFwiICYmIHN0ZXAgPT09IDApIHtcbiAgICByZXR1cm4gaGludExpc3QoY3VyLCB0b2tlbiwgW3sgdGV4dDogXCJ7XCIgfV0pO1xuICB9XG4gIGNvbnN0IHZhcmlhYmxlVG9UeXBlID0gb3B0aW9ucy52YXJpYWJsZVRvVHlwZTtcbiAgaWYgKCF2YXJpYWJsZVRvVHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0eXBlSW5mbyA9IGdldFR5cGVJbmZvKHZhcmlhYmxlVG9UeXBlLCB0b2tlbi5zdGF0ZSk7XG4gIGlmIChraW5kID09PSBcIkRvY3VtZW50XCIgfHwga2luZCA9PT0gXCJWYXJpYWJsZVwiICYmIHN0ZXAgPT09IDApIHtcbiAgICBjb25zdCB2YXJpYWJsZU5hbWVzID0gT2JqZWN0LmtleXModmFyaWFibGVUb1R5cGUpO1xuICAgIHJldHVybiBoaW50TGlzdChjdXIsIHRva2VuLCB2YXJpYWJsZU5hbWVzLm1hcCgobmFtZSkgPT4gKHtcbiAgICAgIHRleHQ6IGBcIiR7bmFtZX1cIjogYCxcbiAgICAgIHR5cGU6IHZhcmlhYmxlVG9UeXBlW25hbWVdXG4gICAgfSkpKTtcbiAgfVxuICBpZiAoa2luZCA9PT0gXCJPYmplY3RWYWx1ZVwiIHx8IGtpbmQgPT09IFwiT2JqZWN0RmllbGRcIiAmJiBzdGVwID09PSAwKSB7XG4gICAgaWYgKHR5cGVJbmZvLmZpZWxkcykge1xuICAgICAgY29uc3QgaW5wdXRGaWVsZHMgPSBPYmplY3Qua2V5cyh0eXBlSW5mby5maWVsZHMpLm1hcCgoZmllbGROYW1lKSA9PiB0eXBlSW5mby5maWVsZHNbZmllbGROYW1lXSk7XG4gICAgICByZXR1cm4gaGludExpc3QoY3VyLCB0b2tlbiwgaW5wdXRGaWVsZHMubWFwKChmaWVsZCkgPT4gKHtcbiAgICAgICAgdGV4dDogYFwiJHtmaWVsZC5uYW1lfVwiOiBgLFxuICAgICAgICB0eXBlOiBmaWVsZC50eXBlLFxuICAgICAgICBkZXNjcmlwdGlvbjogZmllbGQuZGVzY3JpcHRpb25cbiAgICAgIH0pKSk7XG4gICAgfVxuICB9XG4gIGlmIChraW5kID09PSBcIlN0cmluZ1ZhbHVlXCIgfHwga2luZCA9PT0gXCJOdW1iZXJWYWx1ZVwiIHx8IGtpbmQgPT09IFwiQm9vbGVhblZhbHVlXCIgfHwga2luZCA9PT0gXCJOdWxsVmFsdWVcIiB8fCBraW5kID09PSBcIkxpc3RWYWx1ZVwiICYmIHN0ZXAgPT09IDEgfHwga2luZCA9PT0gXCJPYmplY3RGaWVsZFwiICYmIHN0ZXAgPT09IDIgfHwga2luZCA9PT0gXCJWYXJpYWJsZVwiICYmIHN0ZXAgPT09IDIpIHtcbiAgICBjb25zdCBuYW1lZElucHV0VHlwZSA9IHR5cGVJbmZvLnR5cGUgPyBnZXROYW1lZFR5cGUodHlwZUluZm8udHlwZSkgOiB2b2lkIDA7XG4gICAgaWYgKG5hbWVkSW5wdXRUeXBlIGluc3RhbmNlb2YgR3JhcGhRTElucHV0T2JqZWN0VHlwZSkge1xuICAgICAgcmV0dXJuIGhpbnRMaXN0KGN1ciwgdG9rZW4sIFt7IHRleHQ6IFwie1wiIH1dKTtcbiAgICB9IGVsc2UgaWYgKG5hbWVkSW5wdXRUeXBlIGluc3RhbmNlb2YgR3JhcGhRTEVudW1UeXBlKSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBuYW1lZElucHV0VHlwZS5nZXRWYWx1ZXMoKTtcbiAgICAgIHJldHVybiBoaW50TGlzdChjdXIsIHRva2VuLCB2YWx1ZXMubWFwKCh2YWx1ZSkgPT4gKHtcbiAgICAgICAgdGV4dDogYFwiJHt2YWx1ZS5uYW1lfVwiYCxcbiAgICAgICAgdHlwZTogbmFtZWRJbnB1dFR5cGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB2YWx1ZS5kZXNjcmlwdGlvblxuICAgICAgfSkpKTtcbiAgICB9IGVsc2UgaWYgKG5hbWVkSW5wdXRUeXBlID09PSBHcmFwaFFMQm9vbGVhbikge1xuICAgICAgcmV0dXJuIGhpbnRMaXN0KGN1ciwgdG9rZW4sIFtcbiAgICAgICAgeyB0ZXh0OiBcInRydWVcIiwgdHlwZTogR3JhcGhRTEJvb2xlYW4sIGRlc2NyaXB0aW9uOiBcIk5vdCBmYWxzZS5cIiB9LFxuICAgICAgICB7IHRleHQ6IFwiZmFsc2VcIiwgdHlwZTogR3JhcGhRTEJvb2xlYW4sIGRlc2NyaXB0aW9uOiBcIk5vdCB0cnVlLlwiIH1cbiAgICAgIF0pO1xuICAgIH1cbiAgfVxufVxuX19uYW1lKGdldFZhcmlhYmxlc0hpbnQsIFwiZ2V0VmFyaWFibGVzSGludFwiKTtcbmZ1bmN0aW9uIGdldFR5cGVJbmZvKHZhcmlhYmxlVG9UeXBlLCB0b2tlblN0YXRlKSB7XG4gIGNvbnN0IGluZm8gPSB7XG4gICAgdHlwZTogbnVsbCxcbiAgICBmaWVsZHM6IG51bGxcbiAgfTtcbiAgZm9yRWFjaFN0YXRlKHRva2VuU3RhdGUsIChzdGF0ZSkgPT4ge1xuICAgIGlmIChzdGF0ZS5raW5kID09PSBcIlZhcmlhYmxlXCIpIHtcbiAgICAgIGluZm8udHlwZSA9IHZhcmlhYmxlVG9UeXBlW3N0YXRlLm5hbWVdO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUua2luZCA9PT0gXCJMaXN0VmFsdWVcIikge1xuICAgICAgY29uc3QgbnVsbGFibGVUeXBlID0gaW5mby50eXBlID8gZ2V0TnVsbGFibGVUeXBlKGluZm8udHlwZSkgOiB2b2lkIDA7XG4gICAgICBpbmZvLnR5cGUgPSBudWxsYWJsZVR5cGUgaW5zdGFuY2VvZiBHcmFwaFFMTGlzdCA/IG51bGxhYmxlVHlwZS5vZlR5cGUgOiBudWxsO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUua2luZCA9PT0gXCJPYmplY3RWYWx1ZVwiKSB7XG4gICAgICBjb25zdCBvYmplY3RUeXBlID0gaW5mby50eXBlID8gZ2V0TmFtZWRUeXBlKGluZm8udHlwZSkgOiB2b2lkIDA7XG4gICAgICBpbmZvLmZpZWxkcyA9IG9iamVjdFR5cGUgaW5zdGFuY2VvZiBHcmFwaFFMSW5wdXRPYmplY3RUeXBlID8gb2JqZWN0VHlwZS5nZXRGaWVsZHMoKSA6IG51bGw7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5raW5kID09PSBcIk9iamVjdEZpZWxkXCIpIHtcbiAgICAgIGNvbnN0IG9iamVjdEZpZWxkID0gc3RhdGUubmFtZSAmJiBpbmZvLmZpZWxkcyA/IGluZm8uZmllbGRzW3N0YXRlLm5hbWVdIDogbnVsbDtcbiAgICAgIGluZm8udHlwZSA9IG9iamVjdEZpZWxkID09PSBudWxsIHx8IG9iamVjdEZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmplY3RGaWVsZC50eXBlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbmZvO1xufVxuX19uYW1lKGdldFR5cGVJbmZvLCBcImdldFR5cGVJbmZvXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85995\n')}}]);